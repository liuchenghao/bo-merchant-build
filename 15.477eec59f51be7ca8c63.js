webpackJsonp([15],{1709:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(385),r=a.n(n),o=a(169),s=a.n(o),c=a(170),l=a.n(c),i=a(172),u=a.n(i),m=a(171),p=a.n(m),f=a(5),d=a.n(f),h=a(410),g=a(405),v=a(407),E=a(1711),b=a(1712),N=a(1713),y=a(1710),O=function(e){function t(e){s()(this,t);var n=u()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={data:"",orderState:a.i(h.a)("order-state")},n}return p()(t,e),l()(t,[{key:"componentDidMount",value:function(){var e=this;if(document.title="订单",a.i(h.a)("immediately")){var t=a.i(v.a)("/bocxapi/v1/goods/goods_one",{suffix:"com"});g.a.getJSON(t,{goodsCode:a.i(h.a)("goodsCode")}).then(function(t){e.setState({data:t})})}else{var n=a.i(v.a)("/bocxapi/v1/trade/order",{suffix:"com"});g.a.getJSON(n,{loginToken:a.i(h.b)("boc_loginToken"),orderNo:a.i(h.a)("orderNo")}).then(function(t){e.setState({data:t,orderState:t.orderStatus})}).catch(function(e){console.log(e)})}}},{key:"render",value:function(){var e=this.props.params.pageID,t=void 0;if(a.i(h.a)("immediately"))return d.a.createElement("div",null,d.a.createElement(b.a,{goods:this.state.data,pageID:e}));switch(this.state.orderState){case"INITIAL":t=d.a.createElement(N.a,r()({},this.state.data,{pageID:e}));break;case"TRADE_FINISHED":t=d.a.createElement(E.a,r()({},this.state.data,{pageID:e}));break;case"TRADE_CANCEL":t=d.a.createElement(y.a,this.state.data);break;default:t=null}return d.a.createElement("div",null,t)}}]),t}(f.Component);t.default=O},1710:function(e,t,a){"use strict";var n=a(169),r=a.n(n),o=a(170),s=a.n(o),c=a(172),l=a.n(c),i=a(171),u=a.n(i),m=a(5),p=a.n(m),f=function(e){function t(){return r()(this,t),l()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u()(t,e),s()(t,[{key:"render",value:function(){var e=this.props,t=e.orderGoodsVOS,a=e.orderNo,n=e.createTime;return p.a.createElement("div",{className:"order-wrap"},p.a.createElement("h3",{className:"title"},"商品明细"),p.a.createElement("div",{className:"store-details"},p.a.createElement("img",{className:"img",src:"http://timg.ffan.com/convert/resize/url_"+t[0].pic+"/tfs/1.png"}),p.a.createElement("div",{className:"store-price"},p.a.createElement("p",{className:"name"},t[0].title),p.a.createElement("p",{className:"price-num"},p.a.createElement("span",{className:"price"},p.a.createElement("i",null,"￥"),t[0].formatPrice),p.a.createElement("span",{className:"num"},"×1")))),p.a.createElement("p",{className:"store-all-price"},p.a.createElement("span",null,"商品金额"),p.a.createElement("span",null,"￥",t[0].formatPrice)),p.a.createElement("p",{className:"store-total"},"合计：",p.a.createElement("span",null,"￥",t[0].formatPrice)),p.a.createElement("div",{className:"store-roder-info"},p.a.createElement("p",null,"订单编号",p.a.createElement("span",null,a.substring(0,4)+"\n              "+a.substring(4,8)+"\n              "+a.substring(8,12)+"\n              "+a.substring(12,a.length))),p.a.createElement("p",null,"下单时间",p.a.createElement("span",null,n))),p.a.createElement("a",{className:"over-time-btn"},"订单已过期"))}}]),t}(m.Component);t.a=f},1711:function(e,t,a){"use strict";var n=a(169),r=a.n(n),o=a(170),s=a.n(o),c=a(172),l=a.n(c),i=a(171),u=a.n(i),m=a(5),p=a.n(m),f=a(1748),d=(a.n(f),function(e){function t(){return r()(this,t),l()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u()(t,e),s()(t,[{key:"render",value:function(){var e=this.props,t=e.orderGoodsVOS,a=e.orderNo,n=e.createTime;return p.a.createElement("div",{className:"order-wrap"},p.a.createElement("p",{className:"status-done status-done-color"},"已完成"),p.a.createElement("h3",{className:"title"},"商品明细"),p.a.createElement("div",{className:"store-details"},p.a.createElement("img",{className:"img",src:"http://timg.ffan.com/convert/resize/url_"+t[0].pic+"/tfs/1.png"}),p.a.createElement("div",{className:"store-price"},p.a.createElement("p",{className:"name"},t[0].title),p.a.createElement("p",{className:"price-num"},p.a.createElement("span",{className:"price"},p.a.createElement("i",null,"￥"),t[0].formatPrice),p.a.createElement("span",{className:"num"},"×1")))),p.a.createElement("p",{className:"store-pay-mode"},p.a.createElement("span",null,"支付方式"),p.a.createElement("span",null,p.a.createElement("i",{className:"iconfont icon-wechat-pay"}),"微信支付")),p.a.createElement("p",{className:"store-all-price"},p.a.createElement("span",null,"商品金额"),p.a.createElement("span",null,"￥",t[0].formatPrice)),p.a.createElement("p",{className:"store-total"},"合计：",p.a.createElement("span",null,"￥",t[0].formatPrice)),p.a.createElement("div",{className:"store-roder-info"},p.a.createElement("p",null,"订单编号",p.a.createElement("span",null,a.substring(0,4)+"\n              "+a.substring(4,8)+"\n              "+a.substring(8,12)+"\n              "+a.substring(12,a.length))),p.a.createElement("p",null,"下单时间",p.a.createElement("span",null,n))))}}]),t}(m.Component));t.a=d},1712:function(e,t,a){"use strict";var n=a(169),r=a.n(n),o=a(170),s=a.n(o),c=a(172),l=a.n(c),i=a(171),u=a.n(i),m=a(5),p=a.n(m),f=a(405),d=a(407),h=a(410),g=function(e){function t(){return r()(this,t),l()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u()(t,e),s()(t,[{key:"buy",value:function(e,t){var n=a.i(d.a)("/bocxapi/v1/trade/create_order",{suffix:"com"});f.a.postJSON(n,{loginToken:a.i(h.b)("boc_loginToken"),siedc:"abc",pageId:e,goodsInfos:JSON.stringify([{count:1,goodsCode:t.goodsCode,productId:t.goodsSkuVOS[0].id}])}).then(function(t){var a=encodeURIComponent("http://open.ffan.net/merchant/home/"+e);window.location.href="https://pu.ffan.com/pay/weixin/?orderNo="+t.payOrderNo+"&callBackUrl="+a+"&merchantId="+t.rainbowMerchantId+"&type=5&cancelUrl="+a}).catch(function(e){console.log(e)})}},{key:"render",value:function(){var e=this;if(!this.props.goods)return null;var t=this.props,a=t.pageID,n=t.goods;return p.a.createElement("div",{className:"order-wrap"},p.a.createElement("h3",{className:"title"},"商品明细"),p.a.createElement("div",{className:"store-details"},p.a.createElement("img",{className:"img",src:"http://timg.ffan.com/convert/resize/url_"+n.picList[0].pic+"/tfs/1.png"}),p.a.createElement("div",{className:"store-price"},p.a.createElement("p",{className:"name"},n.name),p.a.createElement("p",{className:"price-num"},p.a.createElement("span",{className:"price"},p.a.createElement("i",null,"￥"),n.goodsSkuVOS[0].formatPriceCost),p.a.createElement("span",{className:"num"},"×1")))),p.a.createElement("p",{className:"store-all-price"},p.a.createElement("span",null,"商品金额"),p.a.createElement("span",null,"￥",n.goodsSkuVOS[0].formatPriceCost)),p.a.createElement("p",{className:"store-total"},"合计：",p.a.createElement("span",null,"￥",n.goodsSkuVOS[0].formatPriceCost)),p.a.createElement("a",{className:"pay-btn",onClick:function(){return e.buy(a,n)}},"立即支付",p.a.createElement("span",null,"￥",n.goodsSkuVOS[0].formatPriceCost)))}}]),t}(m.Component);t.a=g},1713:function(e,t,a){"use strict";var n=a(169),r=a.n(n),o=a(170),s=a.n(o),c=a(172),l=a.n(c),i=a(171),u=a.n(i),m=a(5),p=a.n(m),f=function(e){function t(e){r()(this,t);var a=l()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={orderDate:new Date(9e5-(a.props.gmtSystem-a.props.gmtCreate)),overTime:a.props.gmtSystem-a.props.gmtCreate>a.props.timeLimit},a}return u()(t,e),s()(t,[{key:"buy",value:function(e,t,a){var n=encodeURIComponent("http://open.ffan.net/merchant/home/"+a);window.location.href="https://pu.ffan.com/pay/weixin/?orderNo="+e+"&callBackUrl="+n+"&merchantId="+t+"&type=5&cancelUrl="+n}},{key:"componentDidMount",value:function(){var e=this,t=setInterval(function(){e.state.orderDate=e.state.orderDate-1e3,e.state.orderDate<=0?(clearInterval(t),t=null,e.setState({overTime:!0})):e.setState({orderDate:new Date(e.state.orderDate)})},1e3)}},{key:"render",value:function(){var e=this,t=this.state,a=t.orderDate,n=t.overTime,r=this.props,o=r.orderGoodsVOS,s=r.orderNo,c=r.payOrderNo,l=r.rainbowMerchantId,i=r.pageID,u=r.createTime;return p.a.createElement("div",{className:"order-wrap"},n?null:p.a.createElement("p",{className:"status-prepaycount status-prepaycount-color"},"付款剩余时间：",a.getUTCHours(),"小时",a.getUTCMinutes(),"分",a.getUTCSeconds(),"秒"),p.a.createElement("h3",{className:"title"},"商品明细"),p.a.createElement("div",{className:"store-details"},p.a.createElement("img",{className:"img",src:"http://timg.ffan.com/convert/resize/url_"+o[0].pic+"/tfs/1.png"}),p.a.createElement("div",{className:"store-price"},p.a.createElement("p",{className:"name"},o[0].title),p.a.createElement("p",{className:"price-num"},p.a.createElement("span",{className:"price"},p.a.createElement("i",null,"￥"),o[0].formatPrice),p.a.createElement("span",{className:"num"},"×1")))),p.a.createElement("p",{className:"store-all-price"},p.a.createElement("span",null,"商品金额"),p.a.createElement("span",null,"￥",o[0].formatPrice)),p.a.createElement("p",{className:"store-total"},"合计：",p.a.createElement("span",null,"￥",o[0].formatPrice)),p.a.createElement("div",{className:"store-roder-info"},p.a.createElement("p",null,"订单编号",p.a.createElement("span",null,s.substring(0,4)+"\n              "+s.substring(4,8)+"\n              "+s.substring(8,12)+"\n              "+s.substring(12,s.length))),p.a.createElement("p",null,"下单时间",p.a.createElement("span",null,u))),n?p.a.createElement("a",{className:"over-time-btn"},"订单已过期"):p.a.createElement("a",{className:"pay-btn",onClick:function(){return e.buy(c,l,i)}},"立即支付",p.a.createElement("span",null,"￥",o[0].price)))}}]),t}(m.Component);t.a=f},1748:function(e,t){},385:function(e,t,a){"use strict";t.__esModule=!0;var n=a(463),r=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=r.default||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}},390:function(e,t,a){"use strict";t.__esModule=!0,t.default=function(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a}},405:function(e,t,a){"use strict";var n=a(390),r=a.n(n),o=a(169),s=a.n(o),c=a(170),l=a.n(c),i=a(106),u=a.n(i),m=a(177),p=(a.n(m),a(410)),f=new RegExp("debug=1").test(location.search),d=function(){var e={clientType:"",token:"",p1:"",p2:"",p3:"",p4:"",p5:"",p6:"",p7:"",p8:"",p9:"",p10:"",p11:"",p12:"",p13:"",p14:"",p15:""};return p.c(e,location.href)},h=function(e){return e&&"object"===(void 0===e?"undefined":u()(e))},g=function(e,t){return Promise.reject(new Error({status:e,message:t}))},v=function(e){return Object.keys(e).map(function(t){return[t,e[t]].map(encodeURIComponent).join("=")}).join("&").replace(/%20/g,"+")},E={Accept:"application/json"},b={credentials:"include",mode:"cors"},N=function(){function e(){s()(this,e)}return l()(e,null,[{key:"getJSON",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e.trim())return g(-101,"URL is empty");if(!h(t)||!h(a))return g(-102,"The type of params and options must be a Object");f&&(t.debug=1);var n=Object.assign({},d(),t);n=v(n);var o=a,s=o.headers,c=r()(o,["headers"]);if(a=Object.assign({method:"GET",headers:Object.assign({},E,s)},b,c),n){var l=new RegExp("\\?").test(e)?"&":"?";e=""+e+l+n}return new Promise(function(t,n){fetch(e,a).then(function(e){return e.json()}).then(function(e){var a=e.status,r=e.data,o=e.msg,s=e.message;1*a==200?t(r):(console.log(a+"|"+(o||s)),n(e))}).catch(function(e){n(e)})})}},{key:"postJSON",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e.trim())return g(-101,"URL is empty");if(!h(t)||!h(a))return g(-102,"The type of params and options must be a Object");f&&(t.debug=1),!1!==a.loginInfo&&(t=Object.assign({},d(),t));var n=a,o=n.headers,s=n.formDataType,c=r()(n,["headers","formDataType"]),l=void 0;switch(o=Object.assign({},E,o),s){case"json":o["Content-Type"]="application/json",l=JSON.stringify(t);break;case"FormData":var i=new FormData;for(var m in t)"object"===u()(t[m])?i.append(m,JSON.stringify(t[m])):i.append(m,t[m]);l=i;break;case"file":l=t;break;case"urlencode":default:o["Content-Type"]="application/x-www-form-urlencoded",l=v(t)}return a=Object.assign({method:"POST",headers:o,body:l},b,c),new Promise(function(t,n){fetch(e,a).then(function(e){return e.json()}).then(function(e){var a=e.status,r=e.data,o=e.msg,s=e.message;1*a==200?t(r):(console.log(a+"|"+(o||s)),n(e))}).catch(function(e){n(e)})})}}]),e}();t.a=N},407:function(e,t,a){"use strict";function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:location.host,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s,a=e||location.host,n=a.match(t);return n?n[2]?n[2]:"pub":"local"}function r(e){switch(e){case"local":case"sit":return"sit.";case"uat":return"uat.";case"test":return"test.";case"pub":return"";default:throw new Error("not matched")}}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=Object.assign({suffix:"net",host:location.host},t);return"http://api."+r(n(a.host))+"ffan."+a.suffix+e}a.d(t,"b",function(){return c}),t.a=o;var s=new RegExp("\\.((test|sit|uat)\\.)?(ffan\\.net)"),c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:location.host,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s,o=e.match(a);if(!Array.isArray(o))throw Error("-- url not matched! --");return e.replace(o[0],"."+r(n(t))+o[3])}},410:function(e,t,a){"use strict";a.d(t,"c",function(){return r}),a.d(t,"a",function(){return o}),a.d(t,"b",function(){return s});var n=function(e){return void 0===e},r=function(e,t){var a=t||location.href,r=a.split("?")[1],o={},s={};return r&&r.split("&").forEach(function(e){var t=e.split("=");o[t[0]]=n(t[1])?"":t[1]}),Object.keys(e).forEach(function(t){s[t]=n(o[t])?e[t]:o[t]}),s},o=function(e){var t=location.search.substr(1).split("&"),a=t.find(function(t){return t.toUpperCase().indexOf(e.toUpperCase())>-1});return a=a?a.split("=")[1]:""},s=function(e){var t=document.cookie.split(";"),a="";return t.map(function(t){t.split("=").map(function(n){n.trim().toUpperCase()===e.toUpperCase()&&(a=t)})}),a?a.split("=")[1]:null}},463:function(e,t,a){e.exports={default:a(466),__esModule:!0}},466:function(e,t,a){a(468),e.exports=a(24).Object.assign},467:function(e,t,a){"use strict";var n=a(47),r=a(111),o=a(62),s=a(174),c=a(180),l=Object.assign;e.exports=!l||a(46)(function(){var e={},t={},a=Symbol(),n="abcdefghijklmnopqrst";return e[a]=7,n.split("").forEach(function(e){t[e]=e}),7!=l({},e)[a]||Object.keys(l({},t)).join("")!=n})?function(e,t){for(var a=s(e),l=arguments.length,i=1,u=r.f,m=o.f;l>i;)for(var p,f=c(arguments[i++]),d=u?n(f).concat(u(f)):n(f),h=d.length,g=0;h>g;)m.call(f,p=d[g++])&&(a[p]=f[p]);return a}:l},468:function(e,t,a){var n=a(38);n(n.S+n.F,"Object",{assign:a(467)})}});